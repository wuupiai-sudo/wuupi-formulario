<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wuupi ‚Äî Sistema de Co-dise√±o</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      line-height: 1.5;
    }
    h1 { text-align: center; }
    h2 { color: #2f4f4f; margin-top: 30px; }
    h3 { margin-top: 20px; }
    .bloque {
      display: none;
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #f9f9f9;
    }
    label { display: block; margin: 10px 0; }
    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 5px;
    }
    .checkbox-group label {
      display: flex;
      align-items: center;
      gap: 5px;
      width: calc(50% - 10px); /* dos columnas */
    }
    button {
      margin-top: 20px;
      padding: 12px 20px;
      font-size: 1em;
      cursor: pointer;
      background-color: #2f4f4f;
      color: #fff;
      border: none;
      border-radius: 5px;
      transition: background 0.3s;
    }
    button:hover { background-color: #1e3535; }
    textarea {
      width: 100%;
      min-height: 70px;
      margin-top: 5px;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
      resize: vertical;
    }
  </style>
</head>
<body>
  <h1>üß≠ Wuupi ‚Äî Sistema de Co-dise√±o</h1>
  <h2>Educadores de Educaci√≥n Especial</h2>

  <form id="wuupi-form" action="TU_URL_EXEC" method="post" target="hidden_iframe">

    <!-- 1. Dolor principal -->
    <h2>1. Dolor principal</h2>
    <p>Si Wuupi solo pudiera ayudarte en UNA cosa, ¬øcu√°l elegir√≠as?<br>(elige la que m√°s se parece a tu problema real)</p>
    <label><input type="radio" name="dolor_principal" value="A"> Actividades de aprendizaje adaptadas<br>
      <small>‚ÄúNo siempre s√© c√≥mo ense√±ar estos contenidos a alumnos con discapacidad‚Äù</small>
    </label>
    <label><input type="radio" name="dolor_principal" value="B"> Interacci√≥n activa<br>
      <small>‚ÄúMe cuesta que mis alumnos se involucren, respondan o interact√∫en.‚Äù</small>
    </label>
    <label><input type="radio" name="dolor_principal" value="C"> Evaluar progreso<br>
      <small>‚ÄúNo tengo una forma clara de saber o demostrar si est√°n mejorando‚Äù</small>
    </label>
    <label><input type="radio" name="dolor_principal" value="D"> Comunicar avances<br>
      <small>‚ÄúMe cuesta explicar a familias y escuela lo que realmente han avanzado‚Äù</small>
    </label>

    <!-- 2. Co-dise√±o adaptativo: Bloques condicionales -->
    <div id="bloque-A" class="bloque">
      <h3>A. Actividades de aprendizaje adaptadas</h3>
      <div>
        <p>1. ¬øQu√© tipo de contenidos te cuesta m√°s adaptar?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="A_contenido" value="Lectura"> Lectura</label>
          <label><input type="checkbox" name="A_contenido" value="Matem√°ticas"> Matem√°ticas</label>
          <label><input type="checkbox" name="A_contenido" value="Comunicaci√≥n"> Comunicaci√≥n</label>
          <label><input type="checkbox" name="A_contenido" value="Habilidades sociales"> Habilidades sociales</label>
          <label><input type="checkbox" name="A_contenido" value="Autonom√≠a"> Autonom√≠a</label>
        </div>
      </div>
      <div>
        <p>2. ¬øCu√°l es la mayor dificultad al ense√±arlos?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="A_dificultad" value="No responden"> No responden</label>
          <label><input type="checkbox" name="A_dificultad" value="Se frustran"> Se frustran</label>
          <label><input type="checkbox" name="A_dificultad" value="Se distraen"> Se distraen</label>
          <label><input type="checkbox" name="A_dificultad" value="No puedo ajustar al nivel"> No puedo ajustar al nivel</label>
          <label><input type="checkbox" name="A_dificultad" value="No tengo materiales adecuados"> No tengo materiales adecuados</label>
        </div>
      </div>
      <div>
        <p>3. Si Wuupi lo resolviera bien, ¬øqu√© deber√≠a hacer por ti?</p>
        <textarea name="A_solucion"></textarea>
      </div>
    </div>

    <div id="bloque-B" class="bloque">
      <h3>B. Interacci√≥n activa</h3>
      <div>
        <p>1. ¬øQu√© tipo de interacci√≥n es m√°s dif√≠cil?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="B_tipo" value="Movimientos grandes"> Movimientos grandes</label>
          <label><input type="checkbox" name="B_tipo" value="Movimientos finos"> Movimientos finos</label>
          <label><input type="checkbox" name="B_tipo" value="Se√±alar"> Se√±alar</label>
          <label><input type="checkbox" name="B_tipo" value="Elegir"> Elegir</label>
          <label><input type="checkbox" name="B_tipo" value="Mantener atenci√≥n"> Mantener atenci√≥n</label>
        </div>
      </div>
      <div>
        <p>2. ¬øPor qu√© crees que no interact√∫an?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="B_causa" value="Limitaci√≥n motriz"> Limitaci√≥n motriz</label>
          <label><input type="checkbox" name="B_causa" value="Falta de motivaci√≥n"> Falta de motivaci√≥n</label>
          <label><input type="checkbox" name="B_causa" value="No entienden"> No entienden</label>
          <label><input type="checkbox" name="B_causa" value="Se cansan"> Se cansan</label>
          <label><input type="checkbox" name="B_causa" value="Se frustran"> Se frustran</label>
        </div>
      </div>
      <div>
        <p>3. ¬øQu√© deber√≠a detectar o registrar Wuupi?</p>
        <textarea name="B_solucion"></textarea>
      </div>
    </div>

    <div id="bloque-C" class="bloque">
      <h3>C. Evaluar progreso</h3>
      <div>
        <p>1. ¬øQu√© tipo de avance es m√°s importante?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="C_tipo" value="Motor"> Motor</label>
          <label><input type="checkbox" name="C_tipo" value="Cognitivo"> Cognitivo</label>
          <label><input type="checkbox" name="C_tipo" value="Comunicaci√≥n"> Comunicaci√≥n</label>
          <label><input type="checkbox" name="C_tipo" value="Atenci√≥n"> Atenci√≥n</label>
          <label><input type="checkbox" name="C_tipo" value="Autonom√≠a"> Autonom√≠a</label>
        </div>
      </div>
      <div>
        <p>2. ¬øQu√© te gustar√≠a poder demostrar con datos?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="C_datos" value="Mejoras"> Mejoras</label>
          <label><input type="checkbox" name="C_datos" value="Retrocesos"> Retrocesos</label>
          <label><input type="checkbox" name="C_datos" value="Estancamiento"> Estancamiento</label>
          <label><input type="checkbox" name="C_datos" value="Comparaci√≥n entre sesiones"> Comparaci√≥n entre sesiones</label>
        </div>
      </div>
      <div>
        <p>3. ¬øQu√© te impide hacerlo hoy?</p>
        <textarea name="C_impide"></textarea>
      </div>
    </div>

    <div id="bloque-D" class="bloque">
      <h3>D. Comunicar avances</h3>
      <div>
        <p>1. ¬øCon qui√©n es m√°s dif√≠cil comunicar avances?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="D_con_quien" value="Padres"> Padres</label>
          <label><input type="checkbox" name="D_con_quien" value="Escuela"> Escuela</label>
          <label><input type="checkbox" name="D_con_quien" value="Directivos"> Directivos</label>
          <label><input type="checkbox" name="D_con_quien" value="Terapeutas"> Terapeutas</label>
        </div>
      </div>
      <div>
        <p>2. ¬øQu√© tipo de evidencia ser√≠a m√°s √∫til?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="D_evidencia" value="N√∫meros"> N√∫meros</label>
          <label><input type="checkbox" name="D_evidencia" value="Videos"> Videos</label>
          <label><input type="checkbox" name="D_evidencia" value="Gr√°ficas"> Gr√°ficas</label>
          <label><input type="checkbox" name="D_evidencia" value="Ejemplos"> Ejemplos</label>
        </div>
      </div>
      <div>
        <p>3. ¬øQu√© deber√≠a generar Wuupi autom√°ticamente?</p>
        <textarea name="D_solucion"></textarea>
      </div>
    </div>

    <!-- 3. Validaci√≥n transversal -->
    <div id="bloque-validacion" class="bloque">
      <h2>3. Validaci√≥n transversal</h2>

      <div>
        <p>4. Para ti, el progreso m√°s importante es que el alumno:</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="validacion_1" value="Aprenda nuevos conceptos"> Aprenda nuevos conceptos</label>
          <label><input type="checkbox" name="validacion_1" value="Sea m√°s aut√≥nomo"> Sea m√°s aut√≥nomo</label>
          <label><input type="checkbox" name="validacion_1" value="Interact√∫e mejor"> Interact√∫e mejor</label>
          <label><input type="checkbox" name="validacion_1" value="Se comunique mejor"> Se comunique mejor</label>
        </div>
      </div>

      <div>
        <p>5. ¬øQu√© informaci√≥n te ser√≠a m√°s √∫til tener de tus alumnos?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="validacion_2" value="Qu√© logr√≥"> Qu√© logr√≥</label>
          <label><input type="checkbox" name="validacion_2" value="En qu√© tuvo dificultad"> En qu√© tuvo dificultad</label>
          <label><input type="checkbox" name="validacion_2" value="Si mejor√≥ con el tiempo"> Si mejor√≥ con el tiempo</label>
          <label><input type="checkbox" name="validacion_2" value="Evidencia visual"> Evidencia visual</label>
        </div>
      </div>

      <div>
        <p>6. ¬øCu√°ndo usar√≠as m√°s Wuupi?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="validacion_3" value="Durante la clase"> Durante la clase</label>
          <label><input type="checkbox" name="validacion_3" value="Al planear"> Al planear</label>
          <label><input type="checkbox" name="validacion_3" value="Al evaluar"> Al evaluar</label>
          <label><input type="checkbox" name="validacion_3" value="Para reportar"> Para reportar</label>
        </div>
      </div>

      <div>
        <p>7. ¬øD√≥nde lo usar√≠as m√°s?</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="validacion_4" value="Aula"> Aula</label>
          <label><input type="checkbox" name="validacion_4" value="Casa"> Casa</label>
          <label><input type="checkbox" name="validacion_4" value="Centro"> Centro</label>
          <label><input type="checkbox" name="validacion_4" value="Uso mixto"> Uso mixto</label>
        </div>
      </div>
    </div>

    <!-- 4. Cierre -->
    <div id="bloque-cierre" class="bloque">
      <h2>4. Cierre</h2>
      <div>
        <p>8. Si Wuupi resolviera tu mayor problema, ¬øqu√© cambiar√≠a en tu d√≠a a d√≠a?</p>
        <textarea name="cierre_1"></textarea>
      </div>
      <div>
        <p>9. ¬øHay algo que Wuupi definitivamente no deber√≠a hacer en un contexto escolar?</p>
        <textarea name="cierre_2"></textarea>
      </div>
    </div>

    <button type="submit">Enviar encuesta</button>
  </form>

  <iframe name="hidden_iframe" style="display:none;"></iframe>

  <script>
    const form = document.getElementById('wuupi-form');
    const bloques = {
      A: document.getElementById('bloque-A'),
      B: document.getElementById('bloque-B'),
      C: document.getElementById('bloque-C'),
      D: document.getElementById('bloque-D'),
      validacion: document.getElementById('bloque-validacion'),
      cierre: document.getElementById('bloque-cierre')
    };

    // Mostrar bloque seg√∫n Dolor Principal
    form.dolor_principal.forEach(radio => {
      radio.addEventListener('change', () => {
        Object.values(bloques).forEach(b => b.style.display = 'none');
        bloques[radio.value].style.display = 'block';
        bloques.validacion.style.display = 'block';
        bloques.cierre.style.display = 'block';
      });
    });

    // Env√≠o de formulario
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const actionUrl = form.action;
      const data = new FormData(form);
      const obj = {};
      data.forEach((value, key) => {
        if(obj[key]) { 
          if(Array.isArray(obj[key])) { obj[key].push(value); } 
          else { obj[key] = [obj[key], value]; } 
        } else { obj[key] = value; }
      });
      fetch(actionUrl, {
        method: 'POST',
        body: JSON.stringify(obj),
        headers: {'Content-Type': 'application/json'}
      }).then(r => r.text())
        .then(() => alert('‚úÖ Encuesta enviada correctamente. ¬°Gracias!'))
        .catch(() => alert('‚ùå Error al enviar el formulario.'));
    });
  </script>
</body>
</html>
